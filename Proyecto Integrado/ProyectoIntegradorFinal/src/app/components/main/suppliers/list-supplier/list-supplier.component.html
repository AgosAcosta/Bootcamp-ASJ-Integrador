<div class="container-fluid mt-3">
  <div class="row">
    <div class="col-4">
      <h4>
        {{ supplierActive ? "Proveedores Activos" : "Proveedores Eliminados" }}
      </h4>
    </div>
    <div class="col-8 text-right">
      <input
        type="text"
        [(ngModel)]="searchText"
        placeholder="Filtrar por razon social"
        (keyup.enter)="applyFilter()"
      />
      <input
        type="text"
        [(ngModel)]="searchCode"
        placeholder="Filtrar por código"
        (keyup.enter)="applyFilter()"
      />

      <a routerLink="new" class="btn btn-success" id="altaProveedores">
        <i class="bi bi-plus"></i> Agregar
      </a>
      <a (click)="getListSupplierActive()" class="ml-2">
        <i class="bi bi-person-fill-check"></i>Activos
      </a>
      <a (click)="getListSupplierDelete()" class="ml-2">
        <i class="bi bi-person-fill-slash"></i>Eliminados
      </a>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12">
      <div
        *ngIf="(!supplierList && !supplierActive) || supplierList.length === 0"
        class="alert alert-info"
        role="alert"
      >
        No hay proveedores en esta lista.
      </div>

      <table
        *ngIf="supplierList && supplierList.length > 0"
        class="table"
        style="margin-top: 10px"
      >
        <thead>
          <tr>
            <th>Logo</th>
            <th>Código</th>
            <th>Razón Social</th>
            <th>Información Contacto</th>
            <th>Datos de contacto</th>
            <th>Ubicación</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of supplierList">
            <td>
              <img
                src="{{ item?.urlLogo }}"
                class="rounded mx-auto d-block"
                alt="..."
                (error)="handleImageError($event)"
                width="65"
                height="70"
              />
            </td>
            <td>{{ item.codeSupplier }}</td>
            <td>{{ item.nameSupplier }}</td>
            <td>
              <strong>Sitio web:</strong> {{ item.webSupplier }} <br />
              <strong>Email:</strong> {{ item.emailSupplier }} <br />
              <strong>Tel.:</strong> {{ item.telSupplier }}
            </td>
            <td>
              {{ item.namecontactSupplier }}, {{ item.lastNamecontactSupplier }}
            </td>
            <td>{{ item.provinceSupplier }}, {{ item.countrySupplier }}</td>
            <td *ngIf="deleteSupplier">
              <a
                *ngIf="supplierActive"
                class="btn btn-primary btn-sm"
                [routerLink]="['/list-supplier/detail/', item.idSupplier]"
                ngbTooltip="Ver"
                ><i class="bi bi-eye"></i
              ></a>
              <a
                *ngIf="supplierActive"
                class="btn btn-success btn-sm"
                [routerLink]="['/list-supplier', item.idSupplier]"
                ngbTooltip="Editar"
                ><i class="bi bi-pencil-square"></i
              ></a>
              <a
                *ngIf="supplierActive"
                class="btn btn-danger btn-sm ml-2"
                (click)="deleteSupplier(item.idSupplier)"
                ngbTooltip="Eliminar"
                ><i class="bi bi-trash"></i
              ></a>
              <a
                *ngIf="!supplierActive"
                class="btn btn-primary btn-sm ml-2"
                (click)="activeSupplier(item.idSupplier)"
                ngbTooltip="Activar"
                ><i class="bi bi-person-fill-up"></i
              ></a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
